<section class="additional-info">
  <h3>{{ _('Additional Info') }}</h3>

  <div style="color: #fed316; background-color: #7a997a;">Authors</div>
  <pre id="author-field"></pre>
  <script>
    var auths = "{{pkg_dict.author}}".split(",");
    var ids = "{{ pkg_dict.nameIdentifier }}".split(",");
    var affils = "{{ pkg_dict.creatorAffiliation }}".split(",");

    for(let i=0;i<auths.length; i++){
      let p = document.getElementById("author-field");
      val = document.createTextNode(`${auths[i]}; ${ids[i]}; ${affils[i]}`);
      p.append(val);
      p.append("\n");
    }
  </script>
  <div style="color: #fed316; background-color: #7a997a;"> Abstract </div>
  <p>{{ pkg_dict.abstract }}</p>
  <div style="color: #fed316; background-color: #7a997a;"> Methods </div>
  <p>{{ pkg_dict.methods }}</p>
  <div style="color: #fed316; background-color: #7a997a;"> Technical Information </div>
  <p>{{ pkg_dict.technicalInfo }}</p>
  <div style="color: #fed316; background-color: #7a997a;"> Spatial Information </div>
  <pre>
Geolocation Point: ( {{ pkg_dict.geoLatitude }}, {{ pkg_dict.geoLongitude }} ) 
Geolocation Box:
    Lower Left Corner (Latitude,Longitude): ( {{ pkg_dict.geoLowLeftLatitude }}, {{ pkg_dict.geoLowLeftLongitude }} ) 
    Top Right Corner (Latitude,Longitude): ( {{ pkg_dict.geoTopRightLatitude }}, {{ pkg_dict.geoTopRightLongitude }} ) </pre>

  <table class="table table-striped table-bordered table-condensed">
    <thead>
      <tr>
        <th scope="col" style="font-style: italic; color: #fed316; background-color: #7a997a;">{{ _('Field') }}</th>
        <th scope="col" style="font-style: italic; color: #fed316; background-color: #7a997a;">{{ _('Value') }}</th>
      </tr>
    </thead>
    <tbody>
      {% block package_additional_info %}
        {% if pkg_dict.url %}
          <tr>
            <th scope="row" class="dataset-label">{{ _('Source') }}</th>
            {% if h.is_url(pkg_dict.url) %}
              <td class="dataset-details" property="foaf:homepage">
                <a href="{{ pkg_dict.url }}" rel="foaf:homepage" target="_blank">
                  {{ pkg_dict.url }}
                </a>
              </td>
            {% else %}
              <td class="dataset-details" property="foaf:homepage">{{ pkg_dict.url }}</td>
            {% endif %}
          </tr>
        {% endif %}

        {% if pkg_dict.author_email %}
          <tr>
            <th scope="row" class="dataset-label">{{ _("Author") }}</th>
            <td class="dataset-details" property="dc:creator">{{ h.mail_to(email_address=pkg_dict.author_email, name=pkg_dict.author) }}</td>
          </tr>
        {% elif pkg_dict.author %}
          <tr>
            <th scope="row" class="dataset-label">{{ _("Author") }}</th>
            <td class="dataset-details" property="dc:creator">{{ pkg_dict.author }}</td>
          </tr>
        {% endif %}


      {% block extras scoped %}
        {% for extra in h.sorted_extras(pkg_dict.extras) %}
          {% set key, value = extra %}
          <tr rel="dc:relation" resource="_:extra{{ i }}">
            <th scope="row" class="dataset-label" property="rdfs:label">{{ _(key|e) }}</th>
            <td class="dataset-details" property="rdf:value">{{ value }}</td>
          </tr>
        {% endfor %} 
      {% endblock %}   

      {% endblock %}
    </tbody>
  </table>
</section>
